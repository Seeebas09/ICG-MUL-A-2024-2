<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polígono Aleatorio</title>
    <style>
        canvas {
            border: 1px solid black;
        }
        .info {
            margin-top: 10px;
        }
    </style>
</head>
<body>

<canvas id="poligonoCanvas" width="500" height="500"></canvas>
<div class="info">
    <p id="tipoPoligono">Tipo de polígono: </p>
</div>

<script>
    // Clase Punto
    class Punto {
        constructor(x, y) {
            this.x = x;
            this.y = y;
        }
    }

    // Clase Polígono
    class Poligono {
        constructor(puntos) {
            this.puntos = puntos;
        }

        // Función para dibujar el polígono
        dibujar(ctx) {
            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height); // Limpiar canvas
            ctx.beginPath();
            ctx.moveTo(this.puntos[0].x, this.puntos[0].y);

            for (let i = 1; i < this.puntos.length; i++) {
                ctx.lineTo(this.puntos[i].x, this.puntos[i].y);
            }
            ctx.closePath();
            ctx.fillStyle = 'skyblue';
            ctx.fill();
            ctx.stroke();
        }

        // Función para verificar si el polígono es convexo
        esConvexo() {
            const cruz = (p1, p2, p3) => {
                return (p2.x - p1.x) * (p3.y - p1.y) - (p2.y - p1.y) * (p3.x - p1.x);
            };

            let signos = [];
            let n = this.puntos.length;
            for (let i = 0; i < n; i++) {
                let p1 = this.puntos[i];
                let p2 = this.puntos[(i + 1) % n];
                let p3 = this.puntos[(i + 2) % n];
                let cp = cruz(p1, p2, p3);
                signos.push(Math.sign(cp));
            }

            return signos.every(s => s >= 0) || signos.every(s => s <= 0);
        }
    }

    // Función para generar puntos aleatorios
    function generarPuntosAleatorios(numPuntos, ancho, alto) {
        let puntos = [];
        for (let i = 0; i < numPuntos; i++) {
            let x = Math.random() * ancho;
            let y = Math.random() * alto;
            puntos.push(new Punto(x, y));
        }
        return puntos;
    }

    // Configurar el canvas y dibujar el polígono
    function iniciar() {
        const canvas = document.getElementById('poligonoCanvas');
        const ctx = canvas.getContext('2d');
        const ancho = canvas.width;
        const alto = canvas.height;

        // Generar puntos aleatorios
        const numPuntos = 5 + Math.floor(Math.random() * 4); // Entre 5 y 8 puntos
        const puntosAleatorios = generarPuntosAleatorios(numPuntos, ancho, alto);

        // Crear el polígono y dibujarlo
        const poligono = new Poligono(puntosAleatorios);
        poligono.dibujar(ctx);

        // Mostrar si es convexo o cóncavo
        const tipoPoligono = poligono.esConvexo() ? 'Convexo' : 'Cóncavo';
        document.getElementById('tipoPoligono').textContent = `Tipo de polígono: ${tipoPoligono}`;
    }

    // Ejecutar la función al cargar la página
    window.onload = iniciar;

</script>

</body>
</html>
